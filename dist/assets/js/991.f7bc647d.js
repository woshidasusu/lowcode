"use strict";(self["webpackChunklowcode"]=self["webpackChunklowcode"]||[]).push([[991],{90991:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container",style:{"margin-left":e.formTemplate.labelWidth,width:e.formTemplate.width,...e.formTemplate.style}},e._l(e.columns,(function(a,o){return t("div",{key:o,staticClass:"column-container",style:{width:e.itemWidth[o],...e.itemStyle[o]}},[e._l(a,(function(a,n){return[a._id&&!+a.hidden?e._t("before"+a._id,null,{formModel:e.insideFormModel},e.metadataMap["before"+a._id]):e._e(),"slot2"===a.type?[+a.hidden?e._e():e._t(a.slotName,null,{formModel:e.insideFormModel},a)]:+a.hidden?e._e():t(e.ALL_COMPONENTS[a.type]||e.ALL_COMPONENTS["element"],{key:"c"+o+n,ref:a._id,refInFor:!0,tag:"component",style:a.style,attrs:{metadata:a,"form-model":e.insideFormModel,"parent-model-name":e.wholeModelName,type:a.type},on:{event:e.handleComponentEvent},scopedSlots:e._u([e._l(e.slots,(function(t){return{key:t,fn:function(a){return[e._t(t,null,null,a)]}}}))],null,!0)}),a._id&&!+a.hidden?e._t("after"+a._id,null,{formModel:e.insideFormModel},e.metadataMap["after"+a._id]):e._e()]}))],2)})),0)},n=[],r=(a(6484),a(61104));const l=window.__debug_log__,i=(...e)=>{l&&console.log("[container]：",...e)};var m={inject:["getStore"],props:{metadata:{type:Object,require:!0},formModel:{type:[Object,Array],default:()=>({})},parentModelName:{type:String,default:""}},data(){return{ALL_COMPONENTS:r.Z}},computed:{columns(){return this.metadata&&this.metadata.components||[]},formTemplate(){return this.metadata||{}},insideFormModel(){return this.formTemplate.name?this.formModel[this.formTemplate.name]:this.formModel},slots(){return Object.keys(this.$scopedSlots)},metadataMap(){return this.getStore()?.state()?.metadataMap||{}},itemWidth(){const e=[],t=`calc(${100/this.columns.length}% - 30px)`;return this.columns.forEach(((a,o)=>{null==this.formTemplate.itemWidth?e.push(t):Array.isArray(this.formTemplate.itemWidth)?e.push(this.formTemplate.itemWidth[o]):e.push(this.formTemplate.itemWidth)})),e},itemStyle(){return this.formTemplate.itemStyle||[]},wholeModelName(e){let t=this.parentModelName||"";return this.formTemplate.name&&(t+=this.formTemplate.name,Array.isArray(this.formModel[this.formTemplate.name])&&(t+="[0]"),t+="."),t}},watch:{metadata:{handler:function(e){this.parseMetadata()},immediate:!0}},methods:{parseMetadata(){i("parseMetadata()",this.metadata),this.validateMetadata()&&i("validateMetadata() return true")},validateMetadata(){if(!this.metadata||"object"!==typeof this.metadata)return!1;const{components:e}=this.metadata;return!(!e||!e.length)||(console.error("container 表单组件的 components 字段不能为空"),!1)},handleComponentEvent(...e){this.$emit("event",...e)}}},d=m,s=a(9512),h=(0,s.Z)(d,o,n,!1,null,"9a696f44",null),u=h.exports}}]);