"use strict";(self["webpackChunklowcode"]=self["webpackChunklowcode"]||[]).push([[1293,991],{90991:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",style:{"margin-left":t.formTemplate.labelWidth,width:t.formTemplate.width,...t.formTemplate.style}},t._l(t.columns,(function(a,n){return e("div",{key:n,staticClass:"column-container",style:{width:t.itemWidth[n],...t.itemStyle[n]}},[t._l(a,(function(a,o){return[a._id&&!+a.hidden?t._t("before"+a._id,null,{formModel:t.insideFormModel},t.metadataMap["before"+a._id]):t._e(),"slot2"===a.type?[+a.hidden?t._e():t._t(a.slotName,null,{formModel:t.insideFormModel},a)]:+a.hidden?t._e():e(t.ALL_COMPONENTS[a.type]||t.ALL_COMPONENTS["element"],{key:"c"+n+o,ref:a._id,refInFor:!0,tag:"component",style:a.style,attrs:{metadata:a,"form-model":t.insideFormModel,"parent-model-name":t.wholeModelName,type:a.type},on:{event:t.handleComponentEvent},scopedSlots:t._u([t._l(t.slots,(function(e){return{key:e,fn:function(a){return[t._t(e,null,null,a)]}}}))],null,!0)}),a._id&&!+a.hidden?t._t("after"+a._id,null,{formModel:t.insideFormModel},t.metadataMap["after"+a._id]):t._e()]}))],2)})),0)},o=[],r=(a(6484),a(61104));const i=window.__debug_log__,l=(...t)=>{i&&console.log("[container]：",...t)};var s={inject:["getStore"],props:{metadata:{type:Object,require:!0},formModel:{type:[Object,Array],default:()=>({})},parentModelName:{type:String,default:""}},data(){return{ALL_COMPONENTS:r.Z}},computed:{columns(){return this.metadata&&this.metadata.components||[]},formTemplate(){return this.metadata||{}},insideFormModel(){return this.formTemplate.name?this.formModel[this.formTemplate.name]:this.formModel},slots(){return Object.keys(this.$scopedSlots)},metadataMap(){return this.getStore()?.state()?.metadataMap||{}},itemWidth(){const t=[],e=`calc(${100/this.columns.length}% - 30px)`;return this.columns.forEach(((a,n)=>{null==this.formTemplate.itemWidth?t.push(e):Array.isArray(this.formTemplate.itemWidth)?t.push(this.formTemplate.itemWidth[n]):t.push(this.formTemplate.itemWidth)})),t},itemStyle(){return this.formTemplate.itemStyle||[]},wholeModelName(t){let e=this.parentModelName||"";return this.formTemplate.name&&(e+=this.formTemplate.name,Array.isArray(this.formModel[this.formTemplate.name])&&(e+="[0]"),e+="."),e}},watch:{metadata:{handler:function(t){this.parseMetadata()},immediate:!0}},methods:{parseMetadata(){l("parseMetadata()",this.metadata),this.validateMetadata()&&l("validateMetadata() return true")},validateMetadata(){if(!this.metadata||"object"!==typeof this.metadata)return!1;const{components:t}=this.metadata;return!(!t||!t.length)||(console.error("container 表单组件的 components 字段不能为空"),!1)},handleComponentEvent(...t){this.$emit("event",...t)}}},m=s,d=a(9512),u=(0,d.Z)(m,n,o,!1,null,"9a696f44",null),c=u.exports},61293:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dynamic-container"},t._l(t.containerMetadatas,(function(a,n){return e("container",{key:n,attrs:{metadata:a,"form-model":t.insideFormModel},on:{event:t.handleComponentEvent},scopedSlots:t._u([t._l(t.slots,(function(e){return{key:e,fn:function(a){return[t._t(e,null,null,a)]}}}))],null,!0)})})),1)},o=[],r=(a(6484),a(90991));const i=(...t)=>{window.__debug_log__&&console.log("[dynamic-container]：",...t)};var l={components:{Container:r["default"]},inject:["getStore"],props:{metadata:{type:Object,require:!0},formModel:{type:[Object,Array],default:()=>({})}},data(){return{}},computed:{formTemplate(){return this.metadata||{}},columns(){return this.formTemplate.columns||2},containerMetadatas(){const t=this.formTemplate.components?.filter((t=>!+t.hidden))||[],e=Math.ceil(t.length/this.columns),a=[];for(let n=0;n<e;n++){const e=new Array(this.columns).fill([]);e.forEach(((a,o)=>{const r=n*this.columns+o;e[o]=[],r<t.length&&e[o].push(t[r])})),a.push({...this.formTemplate,_id:this.formTemplate._id+"_"+n,components:e})}return a},insideFormModel(){return this.formTemplate.name?this.formModel[this.formTemplate.name]:this.formModel},slots(){return Object.keys(this.$scopedSlots)}},watch:{metadata:{handler:function(t){this.parseMetadata()},immediate:!0}},methods:{parseMetadata(){i("parseMetadata()",this.metadata),this.validateMetadata()&&i("validateMetadata() return true")},validateMetadata(){if(!this.metadata||"object"!==typeof this.metadata)return!1;const{components:t}=this.metadata;return!(!t||!t.length)||(console.error("dynamic-container 表单组件的 components 字段不能为空"),!1)},handleComponentEvent(...t){this.$emit(...t)}}},s=l,m=a(9512),d=(0,m.Z)(s,n,o,!1,null,"0c690d5f",null),u=d.exports}}]);