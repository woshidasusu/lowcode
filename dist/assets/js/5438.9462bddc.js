"use strict";(self["webpackChunklowcode"]=self["webpackChunklowcode"]||[]).push([[5438],{55438:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var o=function(){var t=this,e=t._self._c;return e("el-tabs",{attrs:{stretch:!!+t.formTemplate.stretch},on:{"tab-click":function(e){return t.handleComponentEvent("tab-click",t.formTemplate._id,e)}},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.tabList,(function(a,o){return e("el-tab-pane",{key:o,attrs:{label:a.label,name:a.nativeName,disabled:!!+a.disabled,lazy:!!+a.lazy}},[t._l(a.components,(function(a,o){return[t._t("before"+a._id,null,{formModel:t.insideFormModel},t.metadataMap["before"+a._id]),"slot2"===a.type?[+a.hidden?t._e():t._t(a.slotName,null,{formModel:t.insideFormModel},a)]:+a.hidden?t._e():e(t.ALL_COMPONENTS[a.type]||t.ALL_COMPONENTS["element"],{key:"tc"+o,tag:"component",style:a.style,attrs:{metadata:a,"form-model":t.insideFormModel,type:a.type},on:{event:t.handleComponentEvent}}),t._t("after"+a._id,null,{formModel:t.insideFormModel},t.metadataMap["after"+a._id])]}))],2)})),1)},n=[],r=a(61104);const d=window.__debug_log__,i=(...t)=>{d&&console.log("[tabs]：",...t)};var l={inject:["getStore"],props:{metadata:{type:Object,require:!0},formModel:{type:[Object,Array],default:()=>({})}},data(){return{ALL_COMPONENTS:r.Z,activeTab:""}},computed:{tabList(){return this.metadata?.components?.filter((t=>!+t.hidden))||[]},formTemplate(){return this.metadata||{}},insideFormModel(){return this.formTemplate.name?this.formModel[this.formTemplate.name]:this.formModel},metadataMap(){return this.getStore()?.state()?.metadataMap||{}},coreProcessor(){return this.getStore()?.state()?.coreProcessor}},watch:{metadata:{handler:function(t){this.parseMetadata()},immediate:!0}},methods:{parseMetadata(){i("parseMetadata()",this.metadata),this.validateMetadata()&&(i("validateMetadata() return true"),this.activeTab=this.metadata.value||this.tabList[0]?.nativeName)},validateMetadata(){if(!this.metadata||"object"!==typeof this.metadata)return!1;const{components:t}=this.metadata;return!(!t||!t.length)||(console.error("tabs 表单组件的 components 字段不能为空"),!1)},handleComponentEvent(...t){this.$emit("event",...t)}}},s=l,m=a(9512),c=(0,m.Z)(s,o,n,!1,null,"c3df7740",null),u=c.exports}}]);